<app-navbar></app-navbar>

<div class="grey-bg container pt-4">
    
    <div class="d-flex" >
      <h4>All Deliveries</h4> 
    </div>

    <div class="col-lg-12" *ngIf="all_deliveries.length != 0">
        <table class="table">
            <thead>
            <tr>
                <th scope="col">Shop</th>
                <th scope="col">Timestamp</th>
                <th scope="col">Status</th>
                <th scope="col"></th>
            </tr>
            </thead>

            <tbody>
            <tr *ngFor="let delivery of all_deliveries">
                <td>{{delivery.shop.name}}</td>
                <td>{{delivery.deliveryTimestamp}}</td>
                <td>{{delivery.status}}</td>
                <td class="text-center">
                    <button *ngIf="delivery.status == 'COLLECTING'" class="btn btn-success" (click)="collect(delivery.id)">Collect</button>
                    <button *ngIf="delivery.status == 'DELIVERING'" class="btn btn-success" (click)="deliver(delivery.id)">Deliver</button>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
  
</div>    